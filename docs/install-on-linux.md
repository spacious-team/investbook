### Установка и работа на Mac и Linux

Поддерживаетcя любая версия Mac и Linux.
1. Проверить версию java
   ```shell script
   $ java -version
   ```
   Если версия 21 или выше, пропустите следующий пункт.
2. Воспользуйтесь менеджером пакетов вашей ОС для установки java, например на Ubuntu
   ```shell
   $ sudo apt install openjdk-21-jre-headless
   ```
   Или можно скачать [Java 21](https://jdk.java.net/21/) и распаковать папку `jdk-21` в директорию `/opt`.
   Для 32 разрядных ОС можно скачать [Java 21 x86 JRE](https://bell-sw.com/pages/downloads/). Если java распакована из
   архива, то в директории приложения нужно найти файл `start.sh`, раскомментировать и актуализировать `JAVA_HOME`
   ```shell
   $ export JAVA_HOME=/opt/jdk-21
   ```
3. Скачать со страницы [проекта](https://github.com/spacious-team/investbook/releases/latest) архив `.zip` и
   распаковать в директорию `/opt`.
4. Если вы обновляете приложение, убедитесь, что оно не запущено.
5. Из распакованной папки investbook запустите приложение
   ```shell
   $ sh start.sh
   ```
6. Откроется браузер, отобразится страница приложения.
   Если браузер не открылся в течении 5-30 сек (в зависимости от производительности вашего компьютера),
   откройте сайт http://localhost:2030. Это локальный сайт, запущенный приложением на вашем компьютере.
7. Если страница не открылась, ознакомьтесь с возможными причинами и [решениями проблем](/src/main/asciidoc/troubleshooting.adoc).
8. Перейти в раздел `Загрузить отчеты брокера`, выбрать отчеты брокера, которые хотите проанализировать, и нажать кнопку
   `загрузить`. Или загрузить отчет из email ящика. Или воспользоваться разделом `Форм` для ручного ввода информации.
9. Нажать `Аналитика`. С форматом аналитического отчета можно ознакомиться в [документации](/src/main/asciidoc/index.adoc).
10. По окончании работы нажмите в верхнем правом углу пиктограмму `Завершить`, если желаете выгрузить приложение
    из памяти компьютера. Или оставьте приложение в памяти для быстрого повторного запуска.

#### Обновление приложения
Скачать со станицы [приложения](https://github.com/vananiev/spacious-team/investbook/latest) архив `.zip` и
распаковать в директорию `/opt`. Приложение готово к запуску файлом `start.sh`.

Вам также может потребоваться обновить Java. Приложение требует версию Java не ниже указанной в таблице.

| Версия приложения         | Требуемая версия Java |
|---------------------------|-----------------------|
| до 2020.10 (включительно) | java 14 и выше        |
| c 2020.11                 | java 15 и выше        |
| с 2021.5                  | java 16 и выше        |
| с 2021.9                  | java 17 и выше        |
| с 2022.7                  | java 18 и выше        | 
| с 2023.1                  | java 20 и выше        |
| с 2023.3                  | java 21 и выше        |

#### Установка расширений

Если вы хотите установить расширение Investbook для поддержки новых Брокеров, то получите его у разработчиков расширений
и выложите jar-файл в директорию `<директория-установки>/extensions/`. 
   

